<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AMBER</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css"/>
  <link rel="stylesheet" href="css/styles.css"/>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="index.html">AMBER</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="stories/stories.html">Stories</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="about/about.html">About</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Main Content -->
<div class="container text-center mt-4">
      <h1 style="padding-bottom: 0px;">Welcome to AMBER</h1>
      <h5 class="mb-3" style="color: #6c757d; padding-top: 0px;">
        Automated Monitoring of Biodiversity with Edge Processing and Remote Sensing.
      </h5>
  <div class="landing-container">
    <img src="stories/story_ml/ami-system.gif" alt="AMI system deployed in the field" style="border-radius: 15px; max-height: 300px;" />
    <div class="text-content">

      <p>AMBER is a cutting-edge collaboration between UKCEH and The Alan Turing Institute, exploring wildlife conservation through AI-powered camera trap networks. Our intelligent monitoring systems are deployed worldwide, from the rainforests of Costa Rica to the deserts of Namibia, providing unprecedented insights into ecosystem health and wildlife behavior patterns.</p>

    </div>



  </div>
  <div class="mb-3" style="padding-top: 25px;">
    <a href="stories/story_map/story_map.html" class="btn btn-primary btn-sm me-2">Explore Deployments</a>
    <a href="stories/stories.html" class="btn btn-outline-primary btn-sm me-2">Read Stories</a>
    <a href="about/about.html" class="btn btn-outline-primary btn-sm">About AMBER</a>
  </div>


  <!-- Stories Carousel Section -->
  <div class="stories-section mt-3">
    <h2 class="text-center mb-3">Featured Stories</h2>
    <div id="storiesCarousel" class="carousel slide" data-bs-ride="false">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <div class="stories-viewport overflow-hidden" id="carouselViewport">
            <div class="stories-row d-flex flex-nowrap" id="storiesRow">
              <!-- Story cards (unchanged) -->
              <a href="stories/story_ml/story_ml.html" class="story-carousel-card text-decoration-none">
                <img src="stories/story_ml/ml_snapshot.jpg" class="story-carousel-img" alt="Machine Learning Analysis" />
                <div class="story-carousel-content">
                  <h3>Unlocking Biodiversity Insights with Machine Learning</h3>
                  <p>Discover how AI is transforming biodiversity research through the AMBER project.</p>
                </div>
              </a>
              <a href="stories/story_map/story_map.html" class="story-carousel-card text-decoration-none">
                <img src="stories/story_map/story_map.jpg" class="story-carousel-img" alt="Global Deployment Map" />
                <div class="story-carousel-content">
                  <h3>Global AMBER Deployment Network</h3>
                  <p>Explore our worldwide network of AI-powered camera trap deployments across six continents.</p>
                </div>
              </a>
              <a href="stories/story_encounters/story_encounters.html" class="story-carousel-card text-decoration-none">
                <img src="stories/story_encounters/thailand/20240924000920-snapshot.jpg" class="story-carousel-img" alt="Wildlife Encounters" />
                <div class="story-carousel-content">
                  <h3>Wildlife Encounters</h3>
                  <p>The systems captured more than just moths. From nocturnal predators to other creepy crawlies, discover incredible wildlife diversity.</p>
                </div>
              </a>
              <a href="stories/story_big/story_big.html" class="story-carousel-card text-decoration-none">
                <img src="stories/story_big/story_big.png" class="story-carousel-img" alt="Big Beautiful Moths" />
                <div class="story-carousel-content">
                  <h3>Big Beautiful Moths</h3>
                  <p>Meet some of our largest and most impressive moths captured on the cameras.</p>
                </div>
              </a>
              <a href="stories/story4/story4.html" class="story-carousel-card text-decoration-none">
                <img src="stories/story4/story4.jpg" class="story-carousel-img" alt="Tempor Incididunt" />
                <div class="story-carousel-content">
                  <h3>Interesting Species</h3>
                  <p>Find out more about some notable species captured in the AMBER project.</p>
                </div>
              </a>
            </div>
          </div>
        </div>
      </div>
      <button class="carousel-control-prev" type="button" onclick="shiftCarousel(-1)">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" onclick="shiftCarousel(1)">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
  </div>
</div>

<!-- JS dependencies -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>

<!-- Carousel JS -->
<script>
document.addEventListener('DOMContentLoaded', () => {
  const viewport = document.getElementById('carouselViewport');
  const row = document.getElementById('storiesRow');
  const originalCards = Array.from(row.children);
  const visibleCards = 3;
  let currentIndex = visibleCards; // Start after prepended clones

  // Clone first and last few cards
  const cloneStart = originalCards.slice(-visibleCards).map(card => card.cloneNode(true));
  const cloneEnd = originalCards.slice(0, visibleCards).map(card => card.cloneNode(true));

  // Prepend and append clones
  cloneStart.forEach(clone => row.insertBefore(clone, row.firstChild));
  cloneEnd.forEach(clone => row.appendChild(clone));

  const allCards = row.children;
  const card = allCards[0];
  const cardStyle = getComputedStyle(card);
  const cardWidth = card.offsetWidth + parseInt(cardStyle.marginRight || 20);

  // Set initial scroll position to the first real card
  viewport.scrollLeft = cardWidth * currentIndex;

  function shiftCarousel(direction = 1) {
    currentIndex += direction;

    // Smooth scroll
    viewport.scrollTo({
      left: cardWidth * currentIndex,
      behavior: 'smooth'
    });

    // Reset scroll position instantly after transition ends (without visible jump)
    setTimeout(() => {
      if (currentIndex >= allCards.length - visibleCards) {
        currentIndex = visibleCards;
        viewport.scrollLeft = cardWidth * currentIndex;
      } else if (currentIndex < visibleCards) {
        currentIndex = allCards.length - (2 * visibleCards);
        viewport.scrollLeft = cardWidth * currentIndex;
      }
    }, 350); // match scroll duration
  }

  window.shiftCarousel = shiftCarousel;
  setInterval(() => shiftCarousel(1), 3000);
});
</script>



</body>
</html>
