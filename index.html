<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AMBER</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css"/>
  <link rel="stylesheet" href="css/styles.css"/>

  <style>
    .story-carousel-card {
      width: 270px !important;
      min-width: 270px !important;
      max-width: 270px !important;
      height: 240px !important;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      margin-right: 1rem;
      overflow: hidden;
    }
    .story-carousel-img {
      width: 100% !important;
      height: 110px !important;
      object-fit: cover;
      display: block;
    }
    .story-carousel-content {
      font-size: 0.7rem;
      padding: 0.2rem 0.3rem 0 0.3rem;
      text-align: left;
    }
    @media (max-width: 600px) {
      .story-carousel-card {
        width: 230px !important;
        min-width: 230px !important;
        max-width: 230px !important;
        height: 260px !important;
      }
      .story-carousel-img {
        height: 90px !important;
      }
    }
    .landing-container {
      display: flex;
      flex-wrap: wrap;
      gap: 0;
    }
    .landing-container .video-col, .landing-container .text-col {
      flex: 1 1 50%;
      min-width: 320px;
      box-sizing: border-box;
    }
    .landing-container .video-col {
      padding-right: 2rem;
    }
    .landing-container .text-col {
      padding-left: 2rem;
    }
    .landing-container .video-col {
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .landing-container img {
      max-width: 100%;
      height: auto;
      display: block;
    }
    @media (max-width: 900px) {
      .landing-container {
        flex-direction: column;
      }
      .landing-container .video-col, .landing-container .text-col {
        flex: 1 1 100%;
        max-width: 100%;
        padding-right: 0;
        padding-left: 0;
      }
      .landing-container .text-col {
        text-align: center;
        padding-top: 1.5rem;
      }
    }
  </style>

  <!-- Google Analytics 4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-YXQJJLD55E"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-YXQJJLD55E');
  </script>

  <!-- AMBER Analytics -->
  <script src="js/analytics.js"></script>
</head>
<body>

<!-- Navbar -->
<!-- Navbar (static for GitHub Pages) -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="index.html">AMBER</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="storiesDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Stories
          </a>
          <ul class="dropdown-menu" aria-labelledby="storiesDropdown">
            <li><a class="dropdown-item" href="stories/story_fieldwork/story_fieldwork.html">Fieldwork Diaries</a></li>
            <li><a class="dropdown-item" href="stories/story_encounters/story_encounters.html">Wildlife Encounters</a></li>
            <li><a class="dropdown-item" href="stories/story_big/story_big.html">Big Beautiful Moths</a></li>
            <li><a class="dropdown-item" href="stories/story_ml/story_ml.html">Explore AI Technology</a></li>
            <li><a class="dropdown-item" href="stories/story_map/story_map.html">Deployment Map</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="stories/stories.html">All Stories Overview</a></li>
          </ul>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="about/about.html">About</a>
        </li>
      </ul>
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/AMI-system/amber-dashboard" target="_blank" title="View on GitHub">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16">
              <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.22 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.19 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
            </svg>
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Main Content -->
<div class="container text-center mt-4">
  <h1 style="padding-bottom: 0px;">Welcome to AMBER</h1>
  <h5 class="mb-3" style="color: #6c757d; padding-top: 0px;">
    Automated Monitoring of Biodiversity with Edge Processing and Remote Sensing.
  </h5>

  <!-- Landing Container with Bootstrap Grid -->
  <div class="landing-container bg-light p-4 rounded shadow-sm">
    <div class="video-col">
      <img src="stories/story_ml/ami-system.gif"
           alt="AMI system deployed in the field"
           class="img-fluid rounded" />
    </div>
    <div class="text-col">
      <p class="mb-0">
        AMBER is a cutting-edge collaboration between UKCEH and The Alan Turing Institute,
        sponsored by the Aberdeen Charitable Foundation. It explores wildlife conservation
        through AI-powered camera trap networks. Our intelligent monitoring systems are deployed
        worldwide, from the rainforests of Costa Rica to the deserts of Namibia, providing
        unprecedented insights into ecosystem health and wildlife behavior patterns.
      </p>
    </div>
  </div>



  </div>
  <div class="mb-3 d-flex justify-content-center" style="padding-top: 25px;">
    <a href="stories/story_map/story_map.html" class="btn btn-primary btn-sm me-2">Explore Deployments</a>
    <a href="stories/stories.html" class="btn btn-outline-primary btn-sm me-2">Read Stories</a>
    <a href="about/about.html" class="btn btn-outline-primary btn-sm">About AMBER</a>
  </div>


  <!-- Stories Carousel Section -->
  <div class="stories-section mt-3">
    <h2 class="text-center mb-3">Featured Stories</h2>
    <div id="storiesCarousel" class="carousel slide" data-bs-ride="false">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <div class="stories-viewport overflow-hidden" id="carouselViewport">
            <div class="stories-row d-flex flex-nowrap" id="storiesRow">


              <!-- ML story -->
              <a href="stories/story_ml/story_ml.html" class="story-carousel-card text-decoration-none">
                <img src="stories/story_ml/ml_snapshot.jpg" class="story-carousel-img" alt="Machine Learning Analysis" />
                <div class="story-carousel-content">
                  <h3>Unlocking Biodiversity Insights with AI</h3>
                  <p>Discover how machine learning is transforming biodiversity research through AMBER.</p>
                </div>
              </a>

              <!-- Deployment Map -->
              <a href="stories/story_map/story_map.html" class="story-carousel-card text-decoration-none">
                <img src="stories/story_map/story_map.jpg" class="story-carousel-img" alt="Global Deployment Map" />
                <div class="story-carousel-content">
                  <h3>Global AMBER Deployment Network</h3>
                  <p>Explore our worldwide network of AI-powered camera trap deployments across six continents.</p>
                </div>
              </a>

              <!-- Wildlife Encounters -->
              <a href="stories/story_encounters/story_encounters.html" class="story-carousel-card text-decoration-none">
                <img src="stories/story_encounters/thailand/civet_cat.jpg" class="story-carousel-img" alt="Wildlife Encounters" />
                <div class="story-carousel-content">
                  <h3>Wildlife Encounters</h3>
                  <p>The systems captured more than just moths. From nocturnal predators to other creepy crawlies, discover incredible wildlife diversity.</p>
                </div>
              </a>

              <!-- Big moths -->
              <a href="stories/story_big/story_big.html" class="story-carousel-card text-decoration-none">
                <img src="stories/story_big/story_big.png" class="story-carousel-img" alt="Big Beautiful Moths" />
                <div class="story-carousel-content">
                  <h3>Big Beautiful Moths</h3>
                  <p>Meet some of our largest and most impressive moths captured on the cameras.</p>
                </div>
              </a>

              <!-- Fieldwork diaries -->
              <a href="stories/story_fieldwork/story_fieldwork.html" class="story-carousel-card text-decoration-none">
                <!-- <span style="display:block; aspect-ratio: 1/1; overflow:hidden; background:#eee;"> -->
                  <img src="stories/story_fieldwork/story_fieldwork.jpg" class="story-carousel-img" alt="Fieldwork Diaries" style="width:100%; height:100%; object-fit:cover; aspect-ratio:8/9; display:block;" />
                <!-- </span> -->
                <div class="story-carousel-content">
                  <h3>Fieldwork Diaries</h3>
                  <p>Join Dr Jenna Lawson behind the scenes of AMBER deployments. She provides stories adn challenges from the field. </p>
                </div>
              </a>

              <!-- place for a new story -->


            </div>
          </div>
        </div>
      </div>
      <button class="carousel-control-prev" type="button" onclick="shiftCarousel(-1)">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" onclick="shiftCarousel(1)">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
  </div>
</div>

<!-- JS dependencies -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>

<!-- Carousel JS -->
<script>
document.addEventListener('DOMContentLoaded', () => {
  const viewport = document.getElementById('carouselViewport');
  const row = document.getElementById('storiesRow');
  const originalCards = Array.from(row.children);
  const visibleCards = 3;
  let currentIndex = visibleCards; // Start after prepended clones

  // Clone first and last few cards
  const cloneStart = originalCards.slice(-visibleCards).map(card => card.cloneNode(true));
  const cloneEnd = originalCards.slice(0, visibleCards).map(card => card.cloneNode(true));

  // Prepend and append clones
  cloneStart.forEach(clone => row.insertBefore(clone, row.firstChild));
  cloneEnd.forEach(clone => row.appendChild(clone));

  const allCards = row.children;
  const card = allCards[0];
  const cardStyle = getComputedStyle(card);
  const cardWidth = card.offsetWidth + parseInt(cardStyle.marginRight || 20);

  // Set initial scroll position to the first real card
  viewport.scrollLeft = cardWidth * currentIndex;

  function shiftCarousel(direction = 1) {
    currentIndex += direction;

    // Smooth scroll
    viewport.scrollTo({
      left: cardWidth * currentIndex,
      behavior: 'smooth'
    });

    // Reset scroll position instantly after transition ends (without visible jump)
    setTimeout(() => {
      if (currentIndex >= allCards.length - visibleCards) {
        currentIndex = visibleCards;
        viewport.scrollLeft = cardWidth * currentIndex;
      } else if (currentIndex < visibleCards) {
        currentIndex = allCards.length - (2 * visibleCards);
        viewport.scrollLeft = cardWidth * currentIndex;
      }
    }, 350); // match scroll duration
  }

  window.shiftCarousel = shiftCarousel;
  setInterval(() => shiftCarousel(1), 3000);
});
</script>



</body>

<!-- Footer with Partner Logos -->
<footer class="bg-light py-4 mt-5 border-top">
  <div class="container d-flex flex-column flex-md-row align-items-center justify-content-center">
    <div class="d-flex flex-row align-items-center" style="gap: 2rem;">
      <a href="https://www.turing.ac.uk/" target="_blank" rel="noopener" title="The Alan Turing Institute">
        <img src="about/partner_logos/ATI_logo.png" alt="Alan Turing Institute Logo" style="height: 40px; width: auto; display: block;" />
      </a>
      <a href="https://www.ceh.ac.uk/" target="_blank" rel="noopener" title="UKCEH">
        <img src="about/partner_logos/UKCEH_logo.png" alt="UKCEH Logo" style="height: 40px; width: auto; display: block;" />
      </a>
      <a href="https://www.aberdeenplc.com/en-gb/corporate-sustainability/abrdn-charitable-foundation" target="_blank" rel="noopener" title="Aberdeen">
        <img src="about/partner_logos/aberdeen_logo.png" alt="Aberdeen Logo" style="height: 40px; width: auto; display: block;" />
      </a>
    </div>
  </div>
</footer>
</html>
