<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wildlife Encounters - AMBER Stories</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="../stories.css">

  <style>
    .wildlife-gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
      margin: 40px 0;
    }

    .wildlife-card {
      background: white;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .wildlife-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
    }

    .wildlife-card img {
      width: 100%;
      height: 250px;
      object-fit: cover;
    }

    .wildlife-card video,
    .wildlife-card .wildlife-video {
      width: 100%;
      height: 250px;
      object-fit: cover;
      cursor: pointer;
    }

    .video-container {
      position: relative;
      display: inline-block;
      width: 100%;
    }

    .play-button {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(220, 53, 69, 0.9);
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      color: white;
      font-size: 24px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
    }

    .play-button:hover {
      background: rgba(220, 53, 69, 1);
      transform: translate(-50%, -50%) scale(1.1);
    }

    .play-button.hidden {
      display: none;
    }

    .wildlife-card .card-body {
      padding: 20px;
    }

    .wildlife-card h4 {
      color: #dc3545;
      margin-bottom: 15px;
      font-weight: bold;
    }

    .location-badge {
      background: linear-gradient(135deg, #dc3545, #c82333);
      color: white;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
      margin-bottom: 10px;
      display: inline-block;
    }

    .hero-section {
      background: linear-gradient(135deg, rgba(220, 53, 69, 0.1), rgba(248, 249, 250, 0.3));
      padding: 60px 40px;
      border-radius: 15px;
      margin-bottom: 40px;
      text-align: center;
      border: 1px solid rgba(220, 53, 69, 0.2);
    }

    .timelapse-section {
      background: #f8f9fa;
      padding: 40px;
      border-radius: 15px;
      margin: 40px 0;
      text-align: center;
    }

    .timelapse-section img {
      max-width: 100%;
      border-radius: 10px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }

    .stat-card {
      background: white;
      padding: 30px;
      border-radius: 15px;
      text-align: center;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
    }

    .stat-number {
      font-size: 2.5rem;
      font-weight: bold;
      color: #dc3545;
      margin-bottom: 10px;
    }

    .stat-label {
      color: #495057;
      font-weight: 600;
    }

    .country-header {
      grid-column: 1 / -1;
      color: #dc3545;
      font-weight: bold;
      margin: 40px 0 20px 0;
      padding-bottom: 10px;
      border-bottom: 3px solid #dc3545;
      text-align: center;
    }

    .country-header:first-of-type {
      margin-top: 0;
    }
  </style>
</head>

<body>


<div class="container mt-5">
  <div class="row">
    <div class="col-12">
      <!-- Hero Section -->
      <div class="hero-section">
        <h1 class="display-3 fw-bold mb-4">Wildlife Encounters</h1>
        <p class="lead mb-4">
          Our AMBER camera traps capture more than just moths, also uncovering
          the incredible diversity of wildlife across different ecosystems from mammals to gastropods to amphibians.
          These unexpected non-moth encounters provide additional insights into biodiversity patterns.
        </p>
        <p>
          <b>
          <em>Click on a snapshot to see a timelapse, and the subject in action</em>
          </b>
        </p>
      </div>


      <!-- Wildlife Gallery -->
      <div class="wildlife-gallery">

        <h2 class="country-header">ðŸ‡¹ðŸ‡­ Thailand Highlights</h2>


        <div class="wildlife-card">
          <div class="video-container">
            <video muted loop preload="metadata" class="wildlife-video">
              <source src="thailand/cat_on_06-09_20240906225129_timelapse.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
            <button class="play-button">â–¶</button>
          </div>
          <div class="card-body">
            <span class="location-badge">Deployment: Puang Thong (hill)</span>
            <h4>The Moth Inspector</h4>
            <p>Meet Thailand's most curious repeat visitor! This determined cat has become a regular
            night investigator, returning multiple evenings to study our moth activity. Who's monitoring who? Our cameras capture this feline researcher at work!</p>
            <small class="text-muted">Captured: September 6, 2024</small>
          </div>
        </div>

        <div class="wildlife-card">
          <div class="video-container">
            <video muted loop preload="metadata" class="wildlife-video">
              <source src="thailand/cat_on_03-10_20241003033409_timelapse.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
            <button class="play-button">â–¶</button>
          </div>
          <div class="card-body">
            <span class="location-badge">Deployment: Puang Thong (hill)</span>
            <h4>Repeat Offender</h4>
            <p>Our friend is back again! Sadly this time it looks like they might have enjoyed a moth-shaped night time snack.</p>
            <small class="text-muted">Captured: October 3, 2024</small>
          </div>
        </div>


        <div class="wildlife-card">
          <div class="video-container">
            <video muted loop preload="metadata" class="wildlife-video">
              <source src="thailand/civet_cat_20240813030400_timelapse.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
            <button class="play-button">â–¶</button>
          </div>
          <div class="card-body">
            <span class="location-badge">Deployment: Sakaerat (car graveyard)</span>
            <h4>Furry friend</h4>
            <p>This system has also been visited by a furry friend. This time we suspect it could be a <a href="https://www.gbif.org/occurrence/gallery?country=TH&taxon_key=2434708" target="_blank" style="color: #dc3545; text-decoration: none;">civet cat</a>, or some raccoon- or opossum-like creature.</p>
            <small class="text-muted">Captured: August 13, 2024</small>
          </div>
        </div>

        <div class="wildlife-card">
          <div class="video-container">
            <video muted loop preload="metadata" class="wildlife-video">
              <source src="thailand/frog_hunting_20240808001029_timelapse.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
            <button class="play-button">â–¶</button>
          </div>
          <div class="card-body">
            <span class="location-badge">Deployment: (King) Rama IX Park</span>
            <h4>Lightning-Fast Hunter</h4>
            <p>Caught in the act! This Thailand frog demonstrates the presence of insect predators, seen here
            extending its sticky tongue in a lightning-fast strike to snag unsuspecting flies.
            A great example of predator-prey dynamics captured by our motion sensors.</p>
            <small class="text-muted">Captured: August 8, 2024</small>
          </div>
        </div>

        <div class="wildlife-card">
          <div class="video-container">
            <video muted loop preload="metadata" class="wildlife-video">
              <source src="thailand/frog_jumping_20241122232709_timelapse.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
            <button class="play-button">â–¶</button>
          </div>
          <div class="card-body">
            <span class="location-badge">Deployment:  (King) Rama IX Park</span>
            <h4>Flying Frog</h4>
            <p>Again, this Thailand frog showcases its incredible jumping ability, throwing itself at a moth. Captured mid-leap, this series of images suggests this frog was successful in its hunt. </p>
            <small class="text-muted">Captured: November 22, 2024</small>
          </div>
        </div>

        <h2 class="country-header">ðŸ‡¸ðŸ‡¬ Singapore Highlights</h2>

        <div class="wildlife-card">
          <div class="video-container">
            <video muted loop preload="metadata" class="wildlife-video">
              <source src="singapore/rat_01-20240611010749_timelapse.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
            <button class="play-button">â–¶</button>
          </div>
          <div class="card-body">
            <span class="location-badge">Deployment: Jurong Lake Gardens</span>
            <h4>Resourceful Rat</h4>
            <p>This rodent pokes its nose up to investigate if there is anything noteworthy on the system.</p>
            <small class="text-muted">Captured: June 11, 2024</small>
          </div>
        </div>


        <div class="wildlife-card">
          <div class="video-container">
            <video muted loop preload="metadata" class="wildlife-video">
              <source src="singapore/four_geckos_20250219224710_timelapse.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
            <button class="play-button">â–¶</button>
          </div>
          <div class="card-body">
            <span class="location-badge">ðŸ‡¸ðŸ‡¬ Deployment: Bishan-Ang Mo Kio Park</span>
            <h4>Gecko Social Hour</h4>
            <p>These Singapore geckos look like they are having a party. Our cameras capture these charming reptilian
            interactions - who knew geckos had such active social lives after dark?</p>
            <small class="text-muted">Captured: February 19, 2025</small>
          </div>
        </div>

        <div class="wildlife-card">
          <div class="video-container">
            <video muted loop preload="metadata" class="wildlife-video">
              <source src="singapore/snail_01-20241128031900_timelapse.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
            <button class="play-button">â–¶</button>
          </div>
          <div class="card-body">
            <span class="location-badge">ðŸ‡¸ðŸ‡¬ Deployment: Nanyang Technological University</span>
            <h4>Slow Snail</h4>
            <p>This slow-moving snail takes its time moving across the board</p>
            <small class="text-muted">Captured: November 28, 2024</small>
          </div>
        </div>

        <h2 class="country-header">ðŸ‡¨ðŸ‡· Costa Rica Highlights</h2>
        <div class="wildlife-card">
          <div class="video-container">
            <video muted loop preload="metadata" class="wildlife-video">
              <source src="costarica/cricket_01-20241121000230_timelapse.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
            <button class="play-button">â–¶</button>
          </div>
          <div class="card-body">
            <span class="location-badge">Deployment: Forest Edge</span>
            <h4>Chirping Cricket</h4>
            <p>This lively cricket presumably filled the air with its rhythmic chirping, a quintessential sound of the Costa Rican night. Our cameras captured its performance in stunning detail.</p>
            <small class="text-muted">Captured: November 21, 2024</small>
          </div>
        </div>

      </div>





      <!-- Back to Stories -->
      <div class="text-center mt-5 mb-4">
        <a href="../stories.html" class="btn btn-outline-primary btn-lg me-3">
          &#8592; Back to All Stories
        </a>
        <a href="../story_big/story_big.html" class="btn btn-primary btn-lg">
          Big Beautiful Moths &#8594;
        </a>
      </div>
    </div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>

<!-- Visitor Metrics Tracking -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Initialize analytics
  window.amberAnalytics.trackPageView();

  // Initialize click-to-play functionality for wildlife videos and play buttons
  document.querySelectorAll('.video-container').forEach(container => {
    const video = container.querySelector('.wildlife-video');
    const playButton = container.querySelector('.play-button');

    // Handle video click
    video.addEventListener('click', () => {
      if (video.paused) {
        video.play();
        playButton.classList.add('hidden');
      } else {
        video.pause();
        video.currentTime = 0; // reset to first frame
        playButton.classList.remove('hidden');
      }
    });

    // Handle play button click
    playButton.addEventListener('click', () => {
      video.play();
      playButton.classList.add('hidden');
    });

    // Show play button when video ends or is paused
    video.addEventListener('ended', () => {
      playButton.classList.remove('hidden');
    });

    video.addEventListener('pause', () => {
      playButton.classList.remove('hidden');
    });
  });

  // Track time on page
  setInterval(function() {
    window.amberAnalytics.timeOnPage = Math.floor((Date.now() - window.amberAnalytics.startTime) / 1000);
  }, 1000);

  // Track scroll depth
  let maxScrollDepth = 0;
  window.addEventListener('scroll', function() {
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    const documentHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
    const scrollPercent = Math.round((scrollTop / documentHeight) * 100);

    if (scrollPercent > maxScrollDepth) {
      maxScrollDepth = scrollPercent;
      if (scrollPercent >= 25 && scrollPercent < 50) {
        window.amberAnalytics.trackInteraction('scroll_depth', '25%');
      } else if (scrollPercent >= 50 && scrollPercent < 75) {
        window.amberAnalytics.trackInteraction('scroll_depth', '50%');
      } else if (scrollPercent >= 75 && scrollPercent < 90) {
        window.amberAnalytics.trackInteraction('scroll_depth', '75%');
      } else if (scrollPercent >= 90) {
        window.amberAnalytics.trackInteraction('scroll_depth', '90%');
      }
    }
  });

  // Track clicks on wildlife cards
  document.querySelectorAll('.wildlife-card').forEach(function(card, index) {
    card.addEventListener('click', function() {
      const title = card.querySelector('h4') ? card.querySelector('h4').textContent : 'Unknown';
      window.amberAnalytics.trackInteraction('wildlife_card_click', {
        card_index: index,
        card_title: title
      });
    });
  });

  // Track navigation clicks
  document.querySelectorAll('a').forEach(function(link) {
    link.addEventListener('click', function() {
      const href = link.getAttribute('href');
      const text = link.textContent.trim();
      window.amberAnalytics.trackInteraction('navigation_click', {
        href: href,
        text: text
      });
    });
  });

  // Track page exit
  window.addEventListener('beforeunload', function() {
    const timeOnPage = Math.floor((Date.now() - window.amberAnalytics.startTime) / 1000);
    window.amberAnalytics.sendEvent('page_exit', {
      page: 'wildlife_encounters',
      time_on_page: timeOnPage,
      interactions: window.amberAnalytics.interactions,
      max_scroll_depth: maxScrollDepth,
      timestamp: new Date().toISOString()
    });
  });

  // Track visibility changes (tab switching)
  document.addEventListener('visibilitychange', function() {
    if (document.hidden) {
      window.amberAnalytics.trackInteraction('tab_hidden', 'user_switched_tab');
    } else {
      window.amberAnalytics.trackInteraction('tab_visible', 'user_returned_to_tab');
    }
  });

  // Display metrics in console for debugging (remove in production)
  setTimeout(function() {
    console.log('Page Analytics:', {
      timeOnPage: window.amberAnalytics.timeOnPage,
      interactions: window.amberAnalytics.interactions,
      maxScrollDepth: maxScrollDepth
    });
  }, 10000); // After 10 seconds
});

// Function to get current analytics data (for admin/debugging)
function getAnalyticsData() {
  return {
    currentSession: {
      timeOnPage: window.amberAnalytics.timeOnPage,
      interactions: window.amberAnalytics.interactions,
      startTime: new Date(window.amberAnalytics.startTime).toISOString()
    },
    storedData: JSON.parse(localStorage.getItem('amberAnalytics') || '[]')
  };
}
</script>
</body>
</html>
